{"ast":null,"code":"var _jsxFileName = \"/Users/macbookpro/Desktop/A3/assignment-3-HusmanAndrei/frontend-wasteless-joi (1)/src/pages/Login.js\";\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport AppBar from 'material-ui/AppBar';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport TextField from 'material-ui/TextField';\nimport '../css/login.css';\nimport React, { Component } from 'react';\nimport httpInstance from \"../services/httpService\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: ''\n    };\n  }\n\n  async handleClick(event) {\n    console.log('Logging in ', this.state.username, this.state.password);\n    const httpService = httpInstance;\n    const response = await httpService.initLogin(this.state.username, this.state.password);\n    console.log(response);\n\n    if (response.id !== null) {\n      localStorage.setItem(\"token\", response.id);\n      this.props.history.push(\"/home\");\n    } else {\n      localStorage.removeItem(\"token\");\n      alert(\"Cannot login. Try again!\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loginPage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MuiThemeProvider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 25\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(TextField, {\n      hintText: \"Enter your Username\",\n      floatingLabelText: \"Username\",\n      onChange: (event, newValue) => this.setState({\n        username: newValue\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"password\",\n      hintText: \"Enter your Password\",\n      floatingLabelText: \"Password\",\n      onChange: (event, newValue) => this.setState({\n        password: newValue\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(RaisedButton, {\n      label: \"Submit\",\n      primary: true,\n      style: style,\n      onClick: event => this.handleClick(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nconst style = {\n  margin: 15\n};\nexport default Login;","map":{"version":3,"sources":["/Users/macbookpro/Desktop/A3/assignment-3-HusmanAndrei/frontend-wasteless-joi (1)/src/pages/Login.js"],"names":["MuiThemeProvider","AppBar","RaisedButton","TextField","React","Component","httpInstance","Login","constructor","props","state","username","password","handleClick","event","console","log","httpService","response","initLogin","id","localStorage","setItem","history","push","removeItem","alert","render","newValue","setState","style","margin"],"mappings":"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","sourcesContent":["import MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport AppBar from 'material-ui/AppBar';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport TextField from 'material-ui/TextField';\nimport '../css/login.css'\nimport React, {Component} from 'react';\nimport httpInstance from \"../services/httpService\";\n\nclass Login extends Component {\n    constructor(props){\n        super(props);\n        this.state={\n            username:'',\n            password:''\n        }\n    }\n\n    async handleClick(event){\n        console.log('Logging in ', this.state.username, this.state.password);\n        const httpService = httpInstance;\n        const response = await httpService.initLogin(this.state.username, this.state.password);\n        console.log(response)\n        if(response.id !== null){\n            localStorage.setItem(\"token\", response.id);\n            this.props.history.push(\"/home\");\n        }\n        else{\n            localStorage.removeItem(\"token\");\n            alert(\"Cannot login. Try again!\");\n        }\n    }\n\n    render() {\n        return (\n            <div className={\"loginPage\"}>\n                <MuiThemeProvider>\n                    <div>\n                        <h1>Login</h1>\n                        <TextField\n                            hintText=\"Enter your Username\"\n                            floatingLabelText=\"Username\"\n                            onChange = {(event,newValue) => this.setState({username:newValue})}\n                        />\n                        <br/>\n                        <TextField\n                            type=\"password\"\n                            hintText=\"Enter your Password\"\n                            floatingLabelText=\"Password\"\n                            onChange = {(event,newValue) => this.setState({password:newValue})}\n                        />\n                        <br/>\n                        <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)}/>\n                    </div>\n                </MuiThemeProvider>\n            </div>\n        );\n    }\n}\nconst style = {\n    margin: 15,\n};\nexport default Login;"]},"metadata":{},"sourceType":"module"}